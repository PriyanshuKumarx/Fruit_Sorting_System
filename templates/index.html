<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçé Enhanced Autonomous Fruit Sorting System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a class="navbar-brand" href="#">FruitSort AI</a>
            <div class="navbar-links">
                <a href="#demo">Demo</a>
                <a href="#features">Features</a>
                <a href="#technology">Technology</a>
                <a href="#metrics">Metrics</a>
                <div class="dark-mode-toggle">
                    <input type="checkbox" id="darkModeToggle">
                    <label for="darkModeToggle">
                        <i class="fas fa-moon"></i>
                        <i class="fas fa-sun"></i>
                        <span class="toggle-ball"></span>
                    </label>
                </div>
            </div>
            <button class="navbar-toggler">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>
    <section class="hero-section">
        <div class="hero-overlay"></div>
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">AI-Powered Fruit Quality Detection</h1>
                <p class="hero-subtitle">Revolutionizing food quality control with deep learning and computer vision</p>
                <div class="hero-cta">
                    <a href="#demo" class="btn btn-primary btn-lg mr-3">
                        <i class="fas fa-play mr-2"></i>Live Demo
                    </a>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <div class="container main-content">
        <section id="demo" class="section demo-section">
            <div class="section-header">
                <h2><i class="fas fa-play-circle mr-2"></i>Live Demo</h2>
                <p>Try our fruit quality classifier with your own images</p>
            </div>
            
            <div class="row">
                <div class="col-lg-6">
                    <div class="demo-instructions card">
                        <h3><i class="fas fa-flask mr-2"></i>How It Works</h3>
                        <ol>
                            <li>Upload an image of a fruit (apple, banana, or orange)</li>
                            <li>Our AI will analyze its quality (fresh/rotten)</li>
                            <li>Get nutritional facts and storage recommendations</li>
                        </ol>
                        
                        <div class="sample-images mt-4">
                            <h4><i class="fas fa-images mr-2"></i>Sample Images:</h4>
                            <div class="sample-grid">
                                <div class="sample-item" onclick="useSampleImage('apple_fresh.jpg')">
                                    <img src="{{ url_for('static', filename='images/samples/apple_fresh.jpg') }}" 
                                        alt="Fresh Apple">
                                    <span>Fresh Apple</span>
                                </div>
                                <div class="sample-item" onclick="useSampleImage('banana_rotten.jpg')">
                                    <img src="{{ url_for('static', filename='images/samples/banana_rotten.png') }}" 
                                        alt="Rotten Banana">
                                    <span>Rotten Banana</span>
                                </div>
                                <div class="sample-item" onclick="useSampleImage('orange_fresh.jpg')">
                                    <img src="{{ url_for('static', filename='images/samples/orange_fresh.jpg') }}" 
                                        alt="Fresh Orange">
                                    <span>Fresh Orange</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-6">
                    <form method="POST" enctype="multipart/form-data" action="/predict" class="upload-form card">
                        <div class="upload-container">
                            <div class="upload-wrapper">
                                <div class="upload-icon">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                </div>
                                <h4>Drag & Drop Your Fruit Image</h4>
                                <p class="text-muted">or click to browse files</p>
                                <input type="file" id="fileInput" name="file" accept="image/*" class="upload-input" required>
                                <div class="file-info" id="fileInfo">No file selected</div>
                            </div>
                            <button type="submit" class="btn btn-primary btn-block mt-3">
                                <i class="fas fa-search mr-2"></i>Analyze Fruit
                            </button>
                            <p class="text-muted mt-2 text-center">Supports: JPG, PNG (Max 5MB)</p>
                        </div>
                    </form>
                </div>
            </div>
        </section>
        <section id="features" class="section features-section">
            <div class="section-header">
                <h2><i class="fas fa-star mr-2"></i>Key Features</h2>
                <p>What makes our fruit sorting system special</p>
            </div>
            
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h3>Advanced AI</h3>
                        <p>Deep convolutional neural network with {{ (metadata.accuracy * 100)|round(2) }}% accuracy</p>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <h3>Multiple Fruits</h3>
                        <p>Supports classification of {{ metadata.classes|length }} different fruit quality classes</p>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Detailed Analytics</h3>
                        <p>Comprehensive performance metrics and visualizations</p>
                    </div>
                </div>
            </div>
        </section>
        <section id="technology" class="section technology-section">
            <div class="section-header">
                <h2><i class="fas fa-cogs mr-2"></i>Technology Stack</h2>
                <p>The powerful technologies behind our solution</p>
            </div>
            
            <div class="row">
                <div class="col-lg-6">
                    <div class="tech-card">
                        <h3><i class="fas fa-project-diagram mr-2"></i>Model Architecture</h3>
                        <div class="architecture-diagram">
                            <img src="{{ url_for('static', filename='images/tech/model_architecture.png') }}" 
                                class="img-fluid" alt="Model Architecture">
                        </div>
                        <ul class="tech-specs">
                            <li>
                                <i class="fas fa-layer-group mr-2"></i>
                                <strong>Input:</strong> 100x100 RGB images
                            </li>
                            <li>
                                <i class="fas fa-filter mr-2"></i>
                                <strong>Convolutional Layers:</strong> 2 layers with ReLU activation
                            </li>
                            <li>
                                <i class="fas fa-compress-alt mr-2"></i>
                                <strong>Pooling:</strong> Max Pooling for dimensionality reduction
                            </li>
                            <li>
                                <i class="fas fa-network-wired mr-2"></i>
                                <strong>Dense Layers:</strong> With Dropout to prevent overfitting
                            </li>
                            <li>
                                <i class="fas fa-sign-out-alt mr-2"></i>
                                <strong>Output:</strong> Softmax classification
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="col-lg-6">
                    <div class="tech-card">
                        <h3><i class="fas fa-tools mr-2"></i>Technologies Used</h3>
                        <div class="tech-stack">
                            <div class="tech-item">
                                <img src="{{ url_for('static', filename='images/tech/keras-logo.png') }}" alt="Keras">
                                <div>
                                    <h5>Keras/TensorFlow</h5>
                                    <p>Deep learning framework</p>
                                </div>
                            </div>
                            <div class="tech-item">
                                <img src="{{ url_for('static', filename='images/tech/opencv-logo.png') }}" alt="OpenCV">
                                <div>
                                    <h5>OpenCV</h5>
                                    <p>Image processing</p>
                                </div>
                            </div>
                            <div class="tech-item">
                                <img src="{{ url_for('static', filename='images/tech/flask-logo.png') }}" alt="Flask">
                                <div>
                                    <h5>Flask</h5>
                                    <p>Web framework</p>
                                </div>
                            </div>
                            <div class="tech-item">
                                <img src="{{ url_for('static', filename='images/tech/bootstrap-logo.png') }}" alt="Bootstrap">
                                <div>
                                    <h5>Bootstrap</h5>
                                    <p>Frontend framework</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dataset-stats">
                            <h4><i class="fas fa-database mr-2"></i>Dataset Statistics</h4>
                            <div class="stats-grid">
                                <div class="stat-item">
                                    <div class="stat-value">{{ (metadata.accuracy * 10000)|int }}</div>
                                    <div class="stat-label">Training Images</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value">{{ metadata.classes|length }}</div>
                                    <div class="stat-label">Fruit Classes</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value">{{ (metadata.accuracy * 100)|round(2) }}%</div>
                                    <div class="stat-label">Test Accuracy</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="metrics" class="section metrics-section">
            <div class="section-header">
                <h2><i class="fas fa-chart-bar mr-2"></i>Performance Metrics</h2>
                <p>See how our model performs</p>
            </div>
            
            <div class="metrics-grid">
                <div class="metric-card">
                    <h4>Confusion Matrix</h4>
                    <img src="{{ url_for('static', filename='metrics/confusion_matrix.png') }}" 
                        class="img-fluid" alt="Confusion Matrix">
                </div>
                <div class="metric-card">
                    <h4>ROC Curve</h4>
                    <img src="{{ url_for('static', filename='metrics/roc_curve.png') }}" 
                        class="img-fluid" alt="ROC Curve">
                </div>
                <div class="metric-card">
                    <h4>Precision-Recall</h4>
                    <img src="{{ url_for('static', filename='metrics/precision_recall_curve.png') }}" 
                        class="img-fluid" alt="Precision-Recall Curve">
                </div>
                <div class="metric-card">
                    <h4>Training History</h4>
                    <img src="{{ url_for('static', filename='metrics/training_history.png') }}" 
                        class="img-fluid" alt="Training History">
                </div>
            </div>
            
            <div class="model-meta">
                <div class="meta-card">
                    <h4><i class="fas fa-info-circle mr-2"></i>Model Metadata</h4>
                    <ul class="meta-list">
                        <li>
                            <span>Accuracy</span>
                            <span class="badge">{{ (metadata.accuracy * 100)|round(2) }}%</span>
                        </li>
                        <li>
                            <span>ROC AUC Score</span>
                            <span class="badge">{{ metadata.roc_auc|round(2) }}</span>
                        </li>
                        <li>
                            <span>Training Date</span>
                            <span>{{ metadata.training_date }}</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 footer-col">
                    <h5>FruitSort AI</h5>
                    <p>Revolutionizing food quality inspection with computer vision and deep learning.</p>
                </div>
                <div class="col-lg-4 footer-col">
                    <h5>Quick Links</h5>
                    <ul class="footer-links">
                        <li><a href="#demo">Live Demo</a></li>
                        <li><a href="#features">Features</a></li>
                        <li><a href="#technology">Technology</a></li>
                        <li><a href="#metrics">Metrics</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 footer-col">
                    <h5>Connect</h5>
                    <div class="social-links">
                        <a href="https://github.com/PriyanshuKumarx" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="https://www.linkedin.com/in/priyanshukumar062003/" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="mailto:priyanshukumarx7814@gmail.com">
                            <i class="fas fa-envelope"></i>
                        </a>
                    </div>
                </div>
            </div>
            <hr class="footer-divider">
            <div class="footer-bottom">
                <p>&copy; 2023 FruitSort AI. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h4>Analyzing Fruit Quality</h4>
            <p>Our AI is processing your image...</p>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>